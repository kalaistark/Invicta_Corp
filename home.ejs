<!DOCTYPE html>
	<html>
	<head>
		<title>Dashboard</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    	<meta charset="utf-8">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
		<style>
			#map {
        		height: 100%;
        		margin: 25px 20px 15px 20px;
        		width:50;
        		height:75%;
      		}
			.row{
				margin:15px 10px;
			}
			.leftmost p{
				color:black;
				height:100%;
				margin:0 auto;
			}
			.rightmost p{
				color:black;
				height:100%;
				margin:0 auto;
			}
			.center p{
				color:black;
				height:100%;
				margin:0 auto;
			}
			.card-title{
				text-align: center;
			}
			.row a:hover{
				text-decoration: none;
			}
			.card-img-top{
				height:200px;
			}
			html, body {
		        height: 100%;
		        margin: 0;
		        padding: 0;
      		}
      		h1{
      			margin-left: 25px;
    			margin-top: 10px;
    			width:300px;
      		}
      		#abc,#abb{
      			margin-bottom: 20px!important;
      		}
			.tt{
				color:red;
			}
			.ts{
				color:blue;
			}
		</style>
	</head>
	<body>
		<!-- -------------------------------------------------nav bar---------------------------------- -->
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
	 	 	<a class="navbar-brand" href="#">Indian Army</a>
	  		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
	    	<span class="navbar-toggler-icon"></span>
	  		</button>

	  	<div class="collapse navbar-collapse" id="navbarSupportedContent">
	    	<ul class="navbar-nav mr-auto">
	      		<li class="nav-item active">
	        		<a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
	      		</li>
	      		<li class="nav-item">
	        		<a class="nav-link" href="#">Link</a>
	      		</li>
	      		<li class="nav-item dropdown">
	        		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	          			Dropdown
	        		</a>
	       	 	<div class="dropdown-menu" aria-labelledby="navbarDropdown">
	          		<a class="dropdown-item" href="#">Action</a>
	          		<a class="dropdown-item" href="#">Another action</a>
	          	<div class="dropdown-divider"></div>
	          		<a class="dropdown-item" href="#">Something else here</a>
	        	</div>
	      		</li>
	      		<li class="nav-item">
	        		<a class="nav-link disabled" href="#">Disabled</a>
	      		</li>
	    		</ul>
	    		<form class="form-inline my-2 my-lg-0">
	      	<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
	      	<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
	    	</form>
	  		</div>
		</nav>
		<!-- ---------------------------------------cards------------------------------------------------------- -->
		<h1 id="abb" class="shadow p-3 mb-5 bg-white rounded">Missions</h1>
		<!-- card 1 -->
		<div class="row">
		    <div class="col-lg-2 col-md-4 col-sm-6 leftmost">
		      	<a href="mission_a.html"><div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
				  <img class="card-img-top" src="http://www.kinyu-z.net/data/wallpapers/117/1114774.jpg" alt="Card image cap">
				  <div class="card-body">
				    <h5 class="card-title">Mission A</h5>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
				  </div></a>
				</div>
			</div>
		    <!-- card 2 -->
		    <div class="col-lg-2 col-md-4 col-sm-6 center">
		      	<a href="mission_b.html"><div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
				  <img class="card-img-top" src="http://www.indiandefencereview.com/wp-content/uploads/2013/02/Indian_Army_troops_Guarding_Borders.jpg" alt="Card image cap">
				  <div class="card-body">
				    <h5 class="card-title">Mission B</h5>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
				  </div></a>
				</div>
		    </div>
		    <!-- card 3 -->
		    <div class="col-lg-2 col-md-4 col-sm-6 center">
		      	<a href="mission_c.html"><div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
				  <img class="card-img-top" src="https://www.newsclick.in/sites/default/files/2017-11/Indian%20army_0.jpg" alt="Card image cap">
				  <div class="card-body">
				    <h5 class="card-title">Mission C</h5>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
				  </div></a>
				</div>
		    </div>
		    <!-- card 4 -->
		    <div class="col-lg-2 col-md-4 col-sm-6 center">
		      	<a href="mission_d.html"><div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
				  <img class="card-img-top" src="https://2.bp.blogspot.com/-0lL1vXJyH6Q/V96-BS_AJrI/AAAAAAAA48w/MPSXFsIZ5d8cyvNh7r3Axo1fYQNtuZKrACLcB/s1600/11-Quotes-of-Famous-Indian-Army-Officers-Who-Made-Our-Country-Proud-400x300.jpg" alt="Card image cap">
				  <div class="card-body">
				    <h5 class="card-title">Mission D</h5>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
				  </div></a>
				</div>
		    </div>
		    <!-- card 5 -->
		    <div class="col-lg-2 col-md-4 col-sm-6 center">
		      	<a href="mission_e.html"><div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
				  <img class="card-img-top" src="https://i.guim.co.uk/img/media/86b9652028b3c32fd9b5d39c98bf1c1f88148743/0_27_3600_2161/master/3600.jpg?width=300&quality=85&auto=format&fit=max&s=ed64a05f85517700d18c5ce7717da9b2" alt="Card image cap">
				  <div class="card-body">
				    <h5 class="card-title">Mission E</h5>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
				  </div></a>
				</div>
		    </div>
		    <!-- card 6 -->
			<div class="col-lg-2 col-md-4 col-sm-6 rightmost">
				<a href="mission_f.html"><div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem;">
					<img class="card-img-top" src="https://wallpapercave.com/wp/wp2559402.jpg" alt="Card image cap">
					<div class="card-body">
				    <h5 class="card-title">Mission F</h5>
				    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
				    <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
				  </div></a>
				</div>
				</div>
			</div>
		</div>

		<h1 id="abc" class="shadow p-3 mb-5 bg-white rounded">Mission Map</h1>

		<!-- -------------------------------------------maps--------------------------------- -->
		<div id="map" class="shadow p-3 mb-5 bg-white rounded">

		</div>
		<script>
			function initMap() {
    var cbe = { lat: 13.0847, lng: 80.2707 };
    var options = { zoom: 6, center: cbe };
    var map = new google.maps.Map(document.getElementById('map'), options);
    var a = 0;
// --------------------Data file---------------------------
    var file =
    {
        person_1:
        {
            hr: <%= hr %>,
            temp: <%= temp %>,
            loc: { lat: <%= lat %>, lng: <%= lon %> }
        },
        person_2:
        {
            hr: 80,
            temp: 70,
            loc: { lat: 13.0800, lng: 80.2700 }
        },
        person_3:
        {
            hr: 79,
            temp: 85,
            loc: { lat: 13.0820, lng: 80.2710 }
        },
        person_4:
        {
            hr: 79,
            temp: 85,
            loc: { lat: 13.0810, lng: 80.2710 }
        }
    }
// --------------------validatory functions-------------------
    function heart_valid(i) {
        if (65 <i.hr && i.hr<90) {
            return true;
        }
        else {
            return false;
        }
    }
    function temp_valid(i) {
        if (65 < i.temp && i.temp< 100) {
            return true;
        }
        else {
            return false;
        }
    }
// -----------------------internal data-------------------------------------
    var data =
    {
        person_1: {
            position: {},
            iconImage: { url: '', scaledSize: new google.maps.Size(50, 50) },
            content:'',
            text: "kalai",
        },
        person_2: {
            position: {},
            iconImage: { url: '', scaledSize: new google.maps.Size(50, 50) },
            content: '',
            text:"arjun"
        },
        person_3: {
            position: {},
            iconImage: { url: '', scaledSize: new google.maps.Size(50, 50) },
            content: '',
            text:"venkat"
        },
        person_4: {
            position: {},
            iconImage: { url: '', scaledSize: new google.maps.Size(50, 50) },
            content: '',
            text:"Mano"
        }
    };
// ----------------------------main validatory function-----------------------------------
    function valid() {
        for (i in file) {
            if (heart_valid(file[i]) && temp_valid(file[i])) {
                data[i].iconImage.url='https://raw.githubusercontent.com/Kalai-Stark/hello-world/master/d.png';
            }
            else{
                data[i].iconImage.url='https://raw.githubusercontent.com/googlemaps/v3-utility-library/master/markerclusterer/images/m3.png';  
            }
            data[i].position= file[i].loc;
            information = '<p class="tt"><i class="fas fa-heart"></i> '+ String(file[i].hr)+'</p><p class="ts"><i class="fas fa-temperature-high"></i> '+String(file[i].temp)+'</p>'
            data[i].content = information;
        }
    }
// ---------------------------calling the function------------------------------------------
    valid();
// ---------------------------markers-----------------------------------------------------
    var m = [];
    function mark(props) {
        var marker = new google.maps.Marker
            ({
                position: props.position,
                map: map,
                icon: props.iconImage,
                label: props.text
            })
        m.push(marker);
        var infowindow = new google.maps.InfoWindow({content:props.content});
        marker.addListener("mouseover",function(){infowindow.open(map,marker)});
        marker.addListener("mouseout",function(){infowindow.close()}); 
    }
    for (person in data) {
        // console.log(data[person]);
        mark(data[person]);
    }
    // --------------------------marker clustering-------------------------------------
    var markerCluster = new MarkerClusterer(map, m,
        {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});
}
		</script>
    	<!-- <script>

      	function initMap() {
        	var cbe =  {lat: 11.0168, lng: 76.9558};

        	var map = new google.maps.Map(document.getElementById('map'), {
          	zoom: 3,
          	center: cbe,
          	icon:"https://github.com/Kalai-Stark/hello-world/blob/master/d.png?raw=true"
        	});
        // Create an array of alphabetical characters used to label the markers.
        // var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

        var labels = ["#01","#02","#03","#04","#05","#06","#07","#08","#09","#10","#11","#12"]
        // Add some markers to the map.
        // Note: The code uses the JavaScript Array.prototype.map() method to
        // create an array of markers based on a given "locations" array.
        // The map() method here has nothing to do with the Google Maps API.
        var markers = locations.map(function(location, i) {
          return new google.maps.Marker({
            position: location,
            label: labels[i % labels.length],
            icon:"https://github.com/googlemaps/v3-utility-library/blob/master/markerclusterer/images/m3.png?raw=true",
        	});
        });
        // Add a marker clusterer to manage the markers.
        var markerCluster = new MarkerClusterer(map, markers,
            {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});

      	}
        var locations = [
          {lat: 13.0827, lng: 80.2707}, //che
          {lat: 13.0500, lng: 80.2824}, //mrn
          {lat: 13.2544, lng: 80.0088}, //ven
          {lat: 13.1067, lng: 80.0970}, //avd
          {lat: 12.9716, lng: 77.5946}, //blr
          {lat: 11.1048, lng: 76.7683}, //Ank
          {lat: 11.4064, lng: 76.6932}, //oot
          {lat: 11.4143, lng: 76.8663}, //ktg
          {lat: 11.2891, lng: 76.9410}, //mtp
          {lat: 12.9279, lng: 77.6271}, //kmg
          {lat: 13.0031, lng: 77.5643}, //mlw
          {lat: 12.9719, lng: 77.6412}, //idn
        ]
		</script> -->
		<script src="map.js"></script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js">
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjyfnUedVRRg2vBBGZlJri2Ihs_DQdTWc&callback=initMap"
    async defer></script>
	</body>
</html>
